var ajaxLoad,footsvg,ajaxpath="../";$(document).ready(function(){ajaxLoad=function(t,e,n,a){var o=e+" "+n;$.get(e,{userId:1234,data:"",cache:!1},function(e){$(a).load(o,function(e){"splash"==t?(setTimeout(splashInit,6e3),polyInit()):"About"==t?genPageTranzIn(n):"Create"==t?introSwf(n):"Tech"==t?genPageTranzIn(n):"Footer"==t&&genPageTranzIn(n)})})}});var headBlast,footerScroll,shuffle,randNum,randColor;$(document).ready(function(){$.Velocity.RegisterUI("headColorIn",{defaultDuration:100,calls:[[{color:"#ffa800"},1,{easing:"easeOutCubic"}]],reset:{color:"#a4dee6"}}),headBlast=function(){$(window).width()>930&&$("h1").blast({delimiter:"character"}).velocity("headColorIn",{stagger:50})},footerScroll=function(){$("#TopNav").velocity("scroll",{duration:1500,easing:"spring"})},shuffle=function(t){for(var e,n,a=t.length;a;e=parseInt(Math.random()*a),n=t[--a],t[a]=t[e],t[e]=n);return t},randNum=function(t,e,n){if(n){e-=t;var a=Math.random()*e+t;return a}e-=t;var a=Math.round(Math.random()*e+t);return a},randColor=function(){for(var t="0123456789ABCDEF",e="#",n=0;6>n;n++)e+=t[Math.round(16*Math.random())];return e}});var introSwf,genPageTranzIn,genPageTranzOut;$(document).ready(function(){var t,e,n=".abslt-txt";introSwf=function(e){if(headBlast(),void 0!=t)"#SwfAutoIntro"==t?(swfOn("next",0),swfNavBars({a:0,b:7})):"#SwfCusIntro"==t?(swfOn("next",8),swfNavBars({a:8,b:13})):"#SwfMediaIntro"==t?(swfOn("next",14),swfNavBars({a:14,b:19})):"#SwfMiscIntro"==t&&(swfOn("next",20),swfNavBars({a:20,b:22})),n=e,t=void 0;else if("#SwfArchIntro"==e)return;$(e).velocity({opacity:1},{duration:1300,easing:"easeOutCubic",complete:function(n){"#SwfAjax"!=e&&(ajaxLoad("Create",ajaxpath+"/swf.html","#SwfAjax","#MainContent"),t=e)}})},genPageTranzIn=function(t){$(t).velocity({opacity:1},{duration:300,easing:"easeInCubic"})};var a={mod:2,set:14e3,anim:function(t,e){$(t).velocity({stroke:randColor(),strokeOpacity:1},{duration:randNum(500,1e3),delay:e*randNum(50,200)}).velocity({strokeOpacity:randNum(1,6,!0)/10},{duration:randNum(500,2e3)})}};genPageTranzOut=function(t,o,i){$(n).velocity({opacity:0},{duration:300,easing:"easeOutCubic",complete:function(r){".abslt-txt"==n&&(splashInit(!0),morph(a)),"About"==o?(i&&e!==o&&($($(".top-nav-li").get(0)).addClass("top-nav-out"),$($(".top-nav-li").get(0)).triggerHandler("mouseleave"),$("#SubAnimate").trigger("click")),about(t)):"Create"==o?swfIntro(t):"Tech"==o&&tech(t),e=o,n="#"+t}})}});var polyInit,morph;$(document).ready(function(){var t,e=[],n=[],a={a:0,b:1,c:2,tog:0,o:{}},o=0,i=70,r=2*i,s=60,u=s/4,l=0,d=0,f=!1;a.o.extend=function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])},polyInit=function(){t=SVG("Poly").addClass("svg-poly"),t.size(i*u+i,s/u*r+i),h()};var c=function(e){e%u==0?(0!=e&&d++,l=0):l++;var n=e%2==0?[[i,o],[o,r],[r,r]]:n=[[o,o],[r,o],[i,r]],a="poly-"+String(e),s=t.polygon(n).fill("#152c33").stroke({color:"#a4dee6",opacity:randNum(1,5,!0)/10,width:1}).move(l*i,d*r).addClass(a).addClass("polygon");return{id:a,pts:n,poly:s}},h=function(){for(var t=0,o=0,f=0;s>f;f++)e.push(c(f)),t+=r,l<Math.floor(u/2)&&(l%u==0&&(o+=r,d%2==0?t=r:(t=r+i,n.push({x:[i,m({m:!0}),m({m:!0}),m({m:!0})],y:[o,m({y:o}),m({y:o}),m({y:o})],xt:!1,yt:!1}))),n.push({x:[t,m({x:t}),m({x:t}),m({x:t})],y:[o,m({y:o}),m({y:o}),m({y:o})],xt:!1,yt:!1}));a.o.extend({stp:!1,rpt:250,set:8e3,mod:3,anim:function(t,e){$(t).velocity({opacity:randNum(0,10,!0)/10,fill:randColor(),stroke:randColor(),strokeOpacity:1},{duration:randNum(500,1e3),delay:e*randNum(50,200)}).velocity({strokeOpacity:randNum(1,6,!0)/10,opacity:randNum(2,10,!0)/10,fill:"#152c33"})}}),a.cid=[],e.forEach(function(t){a.cid.push(t.id)}),a.shfl=function(t){shuffle(this.cid),this.cid.forEach(function(e,n){(n%this.o.mod==0||t)&&this.o.anim("."+e,n)}.bind(this))},a.shfl(!0),morph(!1,!0)},m=function(t){var e;return t.x?e=randNum(t.x-i,t.x+i):t.y?e=randNum(t.y-i,t.y+i):t.m&&(e=randNum(i-i/2,i+i/2)),e};morph=function(t,o){if(t){if(t.stp)return void clearTimeout(f);if(a.o.extend(t),f)return void a.shfl(!1)}a.o.dur=randNum(a.o.set/3,a.o.set),o||(0==a.tog?(a.a=1,a.b=2,a.c=3,a.tog=1):(a.a=3,a.b=2,a.c=1,a.tog=0),n.forEach(function(t){t.x[a.b]=m({x:t.x[0]}),t.y[a.b]=m({y:t.y[0]})}),a.shfl(!1)),e.forEach(function(t){t.poly.animate(200).plot(t.pts)}),setTimeout(function(){p()},100),f=setTimeout(function(){f=!1,a.o.rpt--,0!==a.o.rpt&&morph()},a.o.dur)};var p=function(){for(var t=0,a=2,o=Math.round(u/2),i=0;i<n.length-1;i++){for(var r=0;6>r;r++)g(n[i],e[t]),t==a?i<n.length-o?t+=u-2:null:t++;t-=i<n.length-o?u+1:3,a+=2}},g=function(t,e){for(var n=0;3>n;n++)e.pts[n].forEach(function(e,n){0==n?e==t.x[a.a]?t.xt=!0:t.xt=!1:e==t.y[a.a]?t.yt=!0:t.yt=!1}),t.xt&&t.yt&&(e.pts[n][0]=t.x[a.b],e.pts[n][1]=t.y[a.b],e.poly.animate(a.o.dur).plot(e.pts),t.x[a.c]=t.x[a.b],t.y[a.c]=t.y[a.b],t.xt=!1,t.yt=!1)}});var splashInit;$(document).ready(function(){ajaxLoad("splash",ajaxpath+"/splash.html","#SplashAjax","#Splash");var t=["WEB","DESIGN","IDEAS","CODE","SHARING","SKILLS","MONEY","LIFE","HEALTH","TRUST","MIND","DESIRE","NEED"];$.Velocity.RegisterUI("splashHeadIn",{defaultDuration:100,calls:[[{color:"#ffa800"},1,{easing:"easeOutCubic"}],[{scale:.7},1,{easing:"easeOutCubic"}]],reset:{color:"#a4dee6",opacity:1}});var e=0;splashInit=function(n){if(n)return clearTimeout(a),void $(".poly-sub-txt",".poly-txt").velocity("stop");$(".poly-txt").blast({delimiter:"character"}).velocity("splashHeadIn",{stagger:100}).velocity({opacity:0},{duration:3e3,delay:500}),$(".poly-sub-txt").text(t[e]),e<t.length-1?e++:e=0;var a=setTimeout(function(){$(".poly-sub-txt").blast({delimiter:"character"}).velocity("splashHeadIn",{stagger:100}).velocity({opacity:0},{duration:3e3,delay:1e3,complete:function(){splashInit()}})},1e3)}});var swfIntro,about,tech;$(document).ready(function(){swfIntro=function(t){ajaxLoad("Create",ajaxpath+"/swfintro.html","#"+t,"#MainContent"),$("#Footer").is(":parent")&&$("#Footer").html("")},about=function(e){ajaxLoad("About",ajaxpath+"/"+e+".html","#"+e,"#MainContent"),"aboutcnt"==e?$("#Footer").html(""):t("footer")},tech=function(e){ajaxLoad("Tech",ajaxpath+"/"+e+".html","#"+e,"#MainContent"),t("footer")};var t=function(t){$("#Footer").is(":empty")&&ajaxLoad("Footer",ajaxpath+"/"+t+".html","#"+t,"#Footer")}});var swfTranzOut,swfOn,swfNavBars;$(document).ready(function(){var t,n="media/swf",a=0,o=!0,i=!0,r=[{name:"Mercedes",url:n+"/merc_160x600.swf",width:"160",height:"600",des:"Clemmenger BBDO, Melbourne","int":"No",size:"23k"},{name:"Mercedes",url:n+"/merc_300x250.swf",width:"300",height:"250",des:"Clemmenger BBDO, Melbourne","int":"No",size:"40k"},{name:"Mercedes",url:n+"/merc_Eclass_300x250.swf",width:"300",height:"250",bg:"#ffffff",des:"Clemmenger BBDO, Melbourne","int":"No",size:"33k"},{name:"Ford Mondeo",url:n+"/ford_120x600_lig.swf",width:"120",height:"600",des:"Wunderman, London","int":"No",size:"29k"},{name:"Ford Mondeo",url:n+"/ford_120x600.swf",width:"120",height:"600",des:"Wunderman, London","int":"No",size:"33k"},{name:"Ford Mondeo",url:n+"/ford_300x250.swf",width:"300",height:"250",des:"Wunderman, London","int":"No",size:"22k"},{name:"Nissan Navara",url:n+"/nissan_300X250.swf",width:"300",height:"250",des:"Untitled, London","int":"No",size:"30k"},{name:"Nissan Navara",url:n+"/nissan_800X600.swf",width:"600",height:"400",des:"Untitled, London","int":"No",size:"980k"},{name:"Waitrose",url:n+"/waitrose_500x300.swf",width:"500",height:"300",des:"Twenty Six, London","int":"Yes",size:"106k"},{name:"Weet-Bix",url:n+"/weetbix_940x660.swf",width:"600",height:"421",bg:"#000000",des:"Sputnik Agency, Melbourne","int":"No",size:"194k"},{name:"Splenda",url:n+"/splenda_300x600_01.swf",width:"300",height:"600",des:"Sputnik Agency, Melbourne","int":"No",size:"36k"},{name:"Splenda",url:n+"/splenda_300x600.swf",width:"300",height:"600",des:"Sputnik Agency, Melbourne","int":"Yes",size:"40k"},{name:"Carlton Draught",url:n+"/carlton_300x250.swf",width:"300",height:"250",des:"Clemmenger BBDO, Melbourne","int":"No",size:"30k"},{name:"Quorn",url:n+"/quorn_300x250.swf",width:"300",height:"250",des:"BWM, Melbourne","int":"No",size:"41k"},{name:"Australian Idol",url:n+"/ausIdol_760x450.swf",width:"600",height:"355",des:"Igloo, Melbourne","int":"Yes",size:"179k"},{name:"Paradise Lost",url:n+"/palmLeafs08.swf",width:"300",height:"250",des:"Green Room, London","int":"No",size:"57k"},{name:"Haven Holidays",url:n+"/haven_300X250.swf",width:"300",height:"250",des:"Souk, London","int":"Yes",size:"78k"},{name:"BMI",url:n+"/bmi_300X250.swf",width:"300",height:250,des:"Twenty Six, London","int":"No",size:"30k"},{name:"TeleWest",url:n+"/elle.swf",width:"300",height:"250",bg:"#ffffff",des:"Twenty Six, London","int":"No",size:"30k"},{name:"ntl",url:n+"/NTL_300x250.swf",width:"300",height:"250",des:"Twenty Six, London","int":"Yes",size:"30k"},{name:"White Pages",url:n+"/whitepages_300x250.swf",width:"300",height:"250",des:"Clemmenger BBDO, Melbourne","int":"Yes",size:"37k"},{name:"PA Consulting",url:n+"/paConsult.swf",width:"600",height:"400",des:"PA Consulting","int":"Yes",size:"106k"},{name:"Save the Children",url:n+"/STC_03.swf",width:"600",height:"450",bg:"#000000",des:"Proximity, London","int":"No",size:"785k"}],s=function(t){if("function"!=typeof fn)return!1;setTimeout(function(){if("undefined"!=typeof e.ref.PercentLoaded&&e.ref.PercentLoaded())var n=setInterval(function(){100===e.ref.PercentLoaded()&&(t(),clearInterval(n))},1500)},200)},u=function(t){return t.success&&t.ref?void s(c()):!1},l=function(t){var e=!1,n=document.getElementById(t);return!n||"OBJECT"!==n.nodeName&&"EMBED"!==n.nodeName||(e=!0),e},d=function(t){var e=document.getElementById(t);if(e){var n=document.createElement("div");e.parentNode.insertBefore(n,e),swfobject.removeSWF(t),n.setAttribute("id",t)}},f=function(t,e){if(l(e)&&d(e),swfobject.hasFlashPlayerVersion("9")){var n={"class":"swf-class"},a="#152c33";t.bg&&(a=t.bg);var o={wmode:"direct",bgcolor:a};swfobject.embedSWF(t.url,e,t.width,t.height,"9",!1,!1,o,n,u)}$(".swf-head").html('<div class="flex-head">'+t.name+"<div>"),$(".swf-text").html('<div class="flex-text">Agency: '+t.des+"<br>Interactive: "+t["int"]+"<br>Size: "+t.size+"</div>")},c=function(){$("#SwfCont").velocity({opacity:1},{duration:300,easing:"easeInCubic",complete:function(t){i=!0}})};swfTranzOut=function(t,e){"next"==t&&a==r.length||"next"==t&&a==r.length-1&&null==e||"prev"==t&&0==a||$("#SwfCont").velocity({opacity:0},{duration:300,easing:"easeOutCubic",complete:function(n){null!=e?swfOn(t,e):(i=!0,swfOn(t,null),h($(".swf-bars-li").get(a)),$(".swf-bars-txt").html(r[a].name))}})},swfOn=function(t,e){if(null!=e&&(a=e,o=!0,i=!0),i){if(!o)if("next"==t)a++;else{if(!(a>0))return o=!0,void(a=0);a--}f(r[a],"SwfCont"),o=!1,i=!1}},swfNavBars=function(t){for(var e='<ul class="swf-bars-ul">',n=0;n<r.length;n++)e+='<li class="swf-bars-li"><a href="#"></a></li>';e+="</ul>",$(".swf-bars").append(e);for(var n=0;n<r.length;n++)if(n>=t.a&&n<=t.b){var o=$(".swf-bars-li").get(n);$(o).css({backgroundColor:"#bffff7"})}h($(".swf-bars-li").get(a)),$(".swf-bars-li").on("click",function(t){a=$(this).index(),swfTranzOut("next",a),h(this)}),$(".swf-bars-li").on("mouseenter",function(t){$(".swf-bars-txt").html(r[$(this).index()].name)}),$(".swf-bars-li").on("mouseleave",function(t){$(".swf-bars-txt").html(r[a].name)}),$(".swf-bars-txt").html(r[a].name)};var h=function(e){t&&$(t).css({backgroundColor:"#bffff7",opacity:.5}),$(e).css({backgroundColor:"#ffa800",opacity:1}),t=e}}),$(document).ready(function(){var t,e,n,a,o,i,r,s="#About",u=!0,l=function(t){ajaxLoad(null,ajaxpath+"/subbar.html",t,"#SubAnimate")},d=function(t){o=!1,a=setTimeout(function(){o=!0,e=!1,f(this.id)}.bind(this),300)},f=function(t,e){if(t.data){if(t.data.r==this.id)return g(b().sub,"easeInSine"),void(t.data.r="");t.data.r=this.id,e=t.data.t,t=this.id}"Create"==t?l("#SubNavCreate"):"Tech"==t?l("#SubNavTech"):"About"==t&&l("#SubNavAbout"),$("#SubAnimate").css({transform:"translateX(0px)"}),g(b().top,"easeOutSine"),s="#"+t,r!=s&&($(s).addClass("top-nav-li"),y(r,.5)),e&&$(s).addClass("top-nav-out")},c=function(t){clearTimeout(a),o&&(t.pageY<b().top?(i=this.id,a=setTimeout(function(){i=null,g(b().sub,"easeInSine")},300)):(s="#"+this.id,$(s).addClass("top-nav-out")))},h=function(t){r=s,n=!0,t.data.t?v():g(b().sub,"easeInSine")},m=function(t){clearTimeout(a),"string"==typeof i&&($("#"+i).addClass("top-nav-out"),i=null),e=!0},p=function(t){a=setTimeout(function(){(t.pageY>b().top||e)&&g(b().sub,"easeInSine"),n&&headBlast(),n=!1},300)},g=function(t,e){v(),$("#MainContainer").velocity({translateY:t},{queue:!1,duration:200,easing:e})},w=function(t,e){e||$("#SubAnimate").off("click"),$("#SubAnimate").on("click",{t:t},h),t?(e||$(".top-nav-li").off("click"),$(".top-nav-li").on("mouseenter",d),$(".top-nav-li").on("mouseleave",c),$("#SubAnimate").on("mouseenter",m),$("#SubAnimate").on("mouseleave",p)):(e||$(".top-nav-li").off("mouseenter mouseleave"),e||$("#SubAnimate").off("mouseenter mouseleave"),$(".top-nav-li").on("click",{t:!0,r:""},f))},v=function(){y(t,1),r!=s?$(s).removeClass("top-nav-out"):(s!=t&&$(t).removeClass("top-nav-out"),t=s)},y=function(t,e){$(t).velocity({opacity:e},{queue:!1,duration:300})},b=function(){var t=$("#TopNav").height(),e=-$("#SubAnimate").height()+t;return{top:t,sub:e}};$(window).on("resize",function(t,e){u&&this.innerWidth<768?(u=!1,w(!1,e),setTimeout(function(){$("#MainContainer").css({transform:"translateY("+b().sub+"px)"})},100)):(!u&&this.innerWidth>768||e)&&(u=!0,w(!0,e),$("#MainContainer").css({transform:"translateY(0)"}))}),$(window).trigger("resize",[!0])});